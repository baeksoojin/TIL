# 웹 서버, 웹 애플리케이션 서버

## 웹 서버와 웹 애플리케이션 서버란?

- HTTP 기반 통신<br>
클라이언트 - 서버 사이의 통신이 HTTP 프로토콜로 데이터를 주고 받는다.<br>
JSON, XML (API)를 활용하여 데이터를 전송<br>

- 웹서버란?
> HTTP를 기반으로 동작하는 정적 리소스를 제공하는 서버로 NGINX, APACHE 등이 있다.

html, css, js, image 등의 사용자가 등록해놓은 정적 리소스 처리를 위해서 http request, http response를 주고받으며 클라이언트와 서버간의 통신이 일어난다.

- 웹 애플리케이션 서버(WAS - Web Application Server)
> HTTP 기반으로 동작하는 웹 서버 기능을 포함(정적 리소스 제공)하고 특정 조건에 따라서 결과를 다르게하는 동적인 로직을 수행할 수 있는 서버이다. Tomcat, Jetty 등이 있고

Servlet, JSP, 스프링 MVC는 WAS에서 동작한다.

------

## Web vs WAS

<리소스 범위>
- Web : 정적 리소스 제공
- WAS : 정적 + 동적 로직 제공

<사실은 경계가 모호함이 있긴함>
- 웹서버도 프로그램을 실행하는 기능을 포함
- 웹 어플리케이션 서버도 웹 서버의 기능을 제공

> 자바는 서블릿 컨테이너 기능을 제공하면 WAS
서블릿 없이 자바코드를 실행하는 서버 프레임워크도 있긴하다.

<정리>
WAS는 애플리케이션 코드를 실행하는데 더 특화됐다고 볼 수 있다.

-------

## 용도

1. WAS, DB 웹 시스템 구성은 WAS와 DB만으로 시스템 구성이 가능하다.<br>

다만 WAS가 application logic, static contents 제공 등 많은 역할을 담당해서 과부하 우려가 있다. 사실 가장 비싼 애플리케이션 로직이 정적 리소스 때문에 수행이 어려울 수 있다. WAS가 장애가 나면 접근이 아예 되지 않아서 장애시에 오류 화면도 노출이 불가능하다.<br>
따라서 큰 시스템을 구축할 때는 위의 방법은 부담될 수 있다.<Br>

2. Web, WAS, DB

정적 리소스를 웹 서버가 처리하게끔 한다. WAS는 중요한 애플리케이션 로직에만 전담하는 장점이 있다.
- 시스템 리소스를 효율적으로 관리
    정적 리소스가 많이 사용되면 Web 서버를 늘리고 application resource를 많이 사용하면 WAS를 증설한다.
- Web server 다음으로 WAS
    장애는 Web에서 거의 발생하지 않는데 WAS에서 장애 발생시 Web Server는 오류화면 HTML을 고객에게 보여줄 수 있다.

따라서 2번을 기반으로 점점 발전하고 있다. 사실 화면이 아닌 data만 주고 받을 때는 1번 처럼 WAS만 구축해도 될 것이다.<br>

